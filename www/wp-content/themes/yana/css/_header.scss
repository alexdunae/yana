$logo-width: 138px;
$logo-height: 84px;
$logo-gutter: 30px;

.site-header {
  .content {
    @extend %inner-content-frame;
    position: relative;
    height: 84px;
    padding-top: em(24px);
    padding-bottom: em(36px);
  }

  .content {
    max-width: $max-content-width - $sidebar-width - $sidebar-gutter;
    padding-left: $sidebar-width + $sidebar-gutter + $outer-gutter-width;
  }

  .logo {
    float: left;
    width: $sidebar-width;
    margin-left: ($sidebar-width + $sidebar-gutter) * -1;
  }

  @include breakpoint(tablet) {
    .content {
      max-width: none;
      padding-left: $sidebar-width + $sidebar-gutter + $tablet-gutter-width;
    }
  }

  @include breakpoint(mobile) {
    .content {
      max-width: none;
      padding-left: $sidebar-width + $sidebar-gutter + $mobile-gutter-width;
    }
  }



  .logo {
    display: block;
    float: left;
    position: relative;
    z-index: 2;
    //width: $logo-width;
    height: $logo-height;
    //margin: 0 $logo-gutter 0 0;

    a {
      display: block;
      width: $logo-width;
      height: $logo-height;
      @extend %image-replacement;
      background: transparent url("img/header-logo.svg") 50% 0 no-repeat;
      background-size: $logo-width $logo-height;

      .no-svg & {
        // TODO: this looks terrible
        background-image: url("img/header-logo.png");
      }
    }
  }
}

.site-nav {
  ul, li {
    margin: 0;
    padding: 0;
    font-size: 1em;
    line-height: (24/16);
    list-style: none;
  }
}

.primary-nav {
  $nav-colors: $lightteal, $yellow, $green, $orange;
  position: relative;
  z-index: 2;
  margin-top: em(48px);

  li {
    display: inline-block;
    margin-right: em(60px);
    &:nth-child(4n+4) {
      // TODO: IE compat
      margin-right: 0;
    }
  }

  a {
    display: block;
    text-transform: uppercase;
    // nudge down
    margin-bottom: em(8px,24px);
    padding-top: em(4px,24px);
    @include sans-condensed(em(24px), 1);
  }

  @for $i from 1 through length($nav-colors) {
    $c: nth($nav-colors, $i);
    li:nth-child(4n+#{$i}) {
      a { color: $c; }
      a:hover, a:focus { color: darken($c, 15%); }

      .high-contrast & a { color: darken($c, 20%) !important; }
    }
  }
}


.secondary-nav {
  display: block;
  position: absolute;
  z-index: 1;
  width: 100%;
  height: em(48px);
  top: 0;
  left: 0;
  text-align: right;

  .inner {
    @extend %inner-content-frame;
  }

  ul, li { line-height: 1; }

  ul {
    word-spacing: 0;
  }

  li {
    display: inline-block;
    padding: em(12px) 0;
    vertical-align: top;
  }

  .badge {
    padding: 0;
    a { margin: 0; color: #fff; }
  }

  a {
    display: block;
    padding: 0 em(18px,11px);
    font-size: em(11px);
    line-height: (24/11);
    text-transform: uppercase;
    letter-spacing: 1px;
    color: $bluegrey;

    &:hover, &:focus {
      color: $darkteal;
    }
  }

  .current a {
    color: $darkteal;
  }
}

.masthead {
  position: relative;
  height: em(430px);
  padding-top: em(24px);
  padding-bottom: em(24px);
  background-position: 50% 0;
  background-repeat: no-repeat;
  background-size: cover;


  .content {
    @extend %inner-content-frame;
    position: relative;
    //height: em(430px - 48px);
    padding-top: 0;
    padding-bottom: 0;
  }

  .masthead-title, p {
    color: #fff;
  }

  .masthead-title {
    margin: em(12px,60px);
    @include sans-bold(em(60px), (72/60));
    text-shadow: 1px 1px 1px rgba(#000, 0.2);
  }

  p {
    margin: em(12px,18px);
    @include sans-roman(em(18px), (32/18));
    color: rgba(#fff, 0.75);
  }

  .text-wrap {
    display: table;
    position: relative;
    z-index: 3;
    max-width: em(504px);
    height: em(430px - 48px);
  }

  .text {
    display: table-cell;
    vertical-align: middle;
  }

  .mask, .bar {
    display: block;
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
  }

  .mask {
    z-index: 1;
    background: rgba($darkteal, 0.75);

    .no-rgba & { background: transparent url("images/2494A2-50.png") repeat; }
  }

  .bar {
    height: em(12px);
    z-index: 2;
    background: transparent url("images/FFFFFF-35.png") repeat;
    background: rgba(#fff, 0.35);

    .no-rgba & { background: transparent url("images/FFFFFF-35.png") repeat; }
  }

  .bar-bottom {
    top: auto;
    bottom: 0;
  }

}
